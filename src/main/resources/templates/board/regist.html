<!DOCTYPE html>

<html
        class="light-style layout-menu-fixed layout-navbar-fixed layout-wide"
        lang="en"
        layout:decorate="~{/common/common.html}"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        xmlns:th="http://www.thymeleaf.org">
<!-- Layout wrapper -->
<th:block layout:fragment="content">
    <section style="padding:4rem">
        <div class="container">
            <form id="regiFrm" name="regiFrm" action="/board/regist" method="post" enctype="multipart/form-data">
            <div class="layout-wrapper layout-content-navbar">
                <div class="layout-container">
                    <!-- Layout container -->
                    <!-- Content wrapper -->
                    <div class="content-wrapper">
                        <div class="row mb-2">
                            <div class="category-sidebar p-0">
                                <div class="container-xxl flex-grow-1 container-p-y p-3 justify-content-end">
                                    <input type="reset" id="resetBtn" class="btn btn-outline-primary col-2" value="초기화" onclick="textReset()">
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="card mb-4">
                                    <div class="my-items bg-white rounded shadow-sm p-5">
                                        <div class="mb-3">
                                            <input type="hidden" name="userId" th:value="${session.memberDTO.getUserId()}">
                                            <label class="form-label" for="category1">카테고리</label>
                                            <th:block th:if="${session.memberDTO.getRole().toString() == 'teacher'|| session.memberDTO.getRole().toString() == 'admin'}">
                                                <select class="form-select" id="category0" name="category1">
                                                    <option selected value="">카테고리</option>
                                                    <option value="교육정보게시판" th:selected="${param.category1.toString() =='eduInfo'}">교육정보</option>
                                                    <option value="자료게시판" th:selected="${param.category1.toString() =='data'}">자료게시판</option>
                                                    <option value="자유게시판" th:selected="${param.category1.toString() =='board'}">자유게시판</option>
                                                    <option value="공지게시판" th:selected="${param.category1.toString() =='notice'}">공지게시판</option>
                                                    <option value="QnA게시판" th:selected="${param.category1.toString() =='qna'}">QnA게시판</option>
                                                </select>
                                            </th:block>
                                            <th:block th:if="${session.memberDTO.getRole().toString() == 'user'}">
                                                <select class="form-select" id="category1" name="category1">
                                                    <option selected value="">카테고리</option>
                                                    <option value="교육정보게시판" th:selected="${param.category1.toString() =='eduInfo'}">교육정보</option>
                                                    <option value="자료게시판" th:selected="${param.category1.toString() =='data'}">자료게시판</option>
                                                    <option value="자유게시판" th:selected="${param.category1.toString() =='board'}">자유게시판</option>
                                                    <option value="QnA게시판" th:selected="${param.category1.toString() =='qna'}">QnA게시판</option>
                                                </select>
                                            </th:block>
                                        </div>
<!--                                        <div class="mb-3">-->
<!--                                            <label class="form-label" for="category2">강의명</label>-->
<!--                                            <select class="form-select" id="category2" name="category2">-->
<!--                                                <option selected>선택 안함</option>-->
<!--                                                <option value="강의">강의</option>-->
<!--                                            </select>-->
<!--                                        </div>-->
                                        <div class="mb-3">
                                            <label class="form-label" for="title">제목</label>
                                            <input class="form-control" id="title" name="title" value="" type="text"/>
                                        </div>
                                        <div class="mb-3" >
                                            <label for="formFile" class="form-label">파일 업로드</label>
                                            <input class="form-control" type="file" name="file" id="formFile" multiple="multiple" value="" onchange="fileList(this)" accept="image/*" />
                                        </div>
                                        <div class="ml-5">
                                            <label class="regist-label">파일 리스트</label>
                                            <ul id="file-list" class="form-group col-12 d-flex flex-column m-0 p-0" style="gap:5px">
                                            </ul>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group my-4">
                                                <textarea id="summernote" name="content"></textarea>
                                            </div>
                                        </div>
                                        <div class="row justify-content-end">
                                    <input type="submit" class="btn btn-primary col-2" value="등록">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- / Content -->
                    <!-- Content wrapper -->
                </div>
                <!-- / Layout page -->
            </div>
            </form>
            <!-- / Layout wrapper -->
        </div>
    </section>
</th:block>
<th:block layout:fragment="script">
    <script src="/assets/vendor/libs/popper/popper.js"></script>
    <script src="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="/assets/vendor/js/menu.js"></script>
    <script src="/assets/js/main.js"></script>
    <!-- Page JS -->
    <script src="/assets/js/pages-account-settings-account.js"></script>
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script src="/assets/js/regist.js"></script>
    <script>
        function textReset() {
            let summernote = document.querySelector("#summernote");
            let target = document.querySelector(".note-editable");
            console.log("dd");
            console.log(summernote);
            summernote.innerText="";
            target.innerHTML = "";
        }

    </script>
</th:block>
</html>
