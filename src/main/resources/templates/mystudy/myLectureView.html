<!DOCTYPE html>

<html
  lang="en"
  class="light-style layout-menu-fixed layout-wide layout-navbar-fixed"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{/common/common.html}">
<body>
    <!-- Layout wrapper -->
    <th:block layout:fragment="content">
    <section>
      <div class="container">
        <div class="layout-wrapper layout-content-navbar">
          <div class="layout-container">
              <div class="content-wrapper">
                <!-- Content -->

                <div class="container-xxl flex-grow-1 container-p-y px-0">
                    <div class="row">
                        <div class="col-sm-12 col-md-12 d-lg-flex mb-3 justify-content-start">
                            <div class="d-lg-flex w-100 justify-content-start">
                                <div class="row m-lg-0 pb-sm-1 pb-md-1">
                                    <a class="col-sm-12 btn btn-outline-primary" href="/mystudy/myLectureList">목록</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="border shadow-sm rounded">
                        <div class="row p-0 py-3 px-2">
                            <div class="col-4">
                                <img class="w-100" th:src="|${lectureDTO.thumbnailImgDirectory}/${lectureDTO.thumbnailImgFile}|">
                            </div>
                            <div class="col-8 d-flex flex-column gap-3 justify-content-around">
                                <div class="d-flex flex-column gap-3">
                                    <div>
                                        <span class="badge bg-label-primary">[[${lectureDTO.categoryName}]]</span>
                                    </div>
                                    <div>
                                        <h5 class="mb-1 text-primary fw-bold">[[${lectureDTO.title}]]</h5>
                                        <p class="mb-1"><span class="fw-medium">[[${lectureDTO.teacherName}]] </span>선생님</p>
                                    </div>
                                </div>
                                <div>
                                    <span>
                                        <ul class="list star-list mb-1" >
                                            <i th:each="i:${#numbers.sequence(1,5)}" th:class="${i<=avgRating}?'lni lni-star-filled active-star':'lni lni-star-filled'"></i>
                                        </ul>
                                        <i class="fw-normal">( 총 [[${countRating}]]건 )</i>
                                    </span>
                                </div>
                                <div class="d-flex flex-column gap-1">
                                    <!-- 해당 강의 시청 이력 없을 때 -->
                                    <a th:href="|/mystudy/myLecturePlay?lectureIdx=${lectureDTO.lectureIdx}|" class="btn btn-primary text-white col-lg-3">학습 시작하기</a>
                                </div>
                                <div class="d-flex justify-content-center align-items-center gap-3 w-75">
                                    <div class="progress w-100" style="height: 8px;">
                                        <div class="progress-bar" style="width: 89%" aria-valuenow="89%" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <small class="text-muted">89/100</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="nav-align-top my-4">
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button type="button" class="nav-link active" role="tab" data-bs-toggle="tab" data-bs-target="#navs-top-description" aria-controls="navs-top-description" aria-selected="true">강의소개</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button type="button" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#navs-top-index" aria-controls="navs-top-index" aria-selected="false" tabindex="-1"
                                th:href='|/mystudy/view?category1=${category1}|'>강의목차</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button type="button" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#navs-top-review" aria-controls="navs-top-review" aria-selected="false" tabindex="-1">강의후기</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button type="button" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#navs-top-notice" aria-controls="navs-top-notice" aria-selected="false" tabindex="-1">공지사항</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button type="button" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#navs-top-qna" aria-controls="navs-top-qna" aria-selected="false" tabindex="-1">QnA</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button type="button" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#navs-top-data" aria-controls="navs-top-data" aria-selected="false" tabindex="-1">자료실</button>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade active show" id="navs-top-description" role="tabpanel">
                                <div class="card-body">
                                    <h5 class="fw-bold">강의소개</h5>
                                    <p class="mb-4" th:utext="${lectureDTO.content}">
                                    </p>
                                    <hr class="my-4">
                                    <h5 class="fw-bold">강사정보</h5>
                                    <div class="d-flex justify-content-start align-items-center user-name">
                                        <div class="avatar-wrapper">
                                            <div class="avatar avatar-sm me-2"><img alt="Avatar" class="rounded-circle" src="/assets/img/default.png"></div>
                                        </div>
                                        <div class="d-flex flex-column">
                                            <span class="fw-medium"><span>[[${lectureDTO.teacherName}]]</span> 선생님</span>
                                            <small class="text-muted">풀스택 4기</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="navs-top-index" role="tabpanel">
                                <div class="list-group" th:each="dto,status:${lectureDetailDTOList}">
                                    <a th:href="|mystudy/myLecturePlay?lectureIdx=${lectureDTO.lectureIdx}|" class="list-group-item list-group-item-action d-flex justify-content-between">
                                        <span>
                                            <i class="lni lni-checkmark-circle active-star"></i>
                                            <span>[[${status.count}]]. [[${dto.detailTitle}]]</span>
                                        </span>
                                        <span>[[${dto.videoLength}]]</span>
                                    </a>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="navs-top-review" role="tabpanel">
                                <div class="d-flex flex-column align-items-center" th:each="dto,status:${lectureReplyDTOList.dtoList}">
                                    <p class="d-flex flex-column gap-1 w-100 py-3 m-0">
                                      <span>
                                            <i th:each="i:${#numbers.sequence(1,5)}" th:class="${i<=dto.rating}?'lni lni-star-filled active-star':'lni lni-star-filled'"></i>
                                        </span>
                                        <span class="h6 m-0">[[${dto.userId}]]</span>
                                        <span class="text-muted d-block ps-2 border rounded py-3">[[${dto.reviewContent}]]</span>
                                    </p>

                                </div>
                                <nav aria-label="Page navigation" class="d-flex align-items-center justify-content-center">
                                    <ul class="pagination">
                                        <li class="page-item prev" th:if="${lectureReplyDTOList.prev_page_flag}">
                                            <a th:href="|/mystudy@{/myLectureView(page=${lectureReplyDTOList.page_block_start -10},lectureIdx=${lectureDTO.lectureIdx})}${lectureReplyDTOList.linkParams}|" class="page-link" href="#"><i class="tf-icon bx bx-chevron-left"></i></a>
                                        </li>
                                        <th:block th:each="i:${#numbers.sequence(lectureReplyDTOList.page_block_start,lectureReplyDTOList.page_block_end)}">
                                            <li th:class="${lectureReplyDTOList.getPage() == i} ? 'page-item active' : 'page-item'">
                                                <a th:href="|/mystudy@{/myLectureView(page=${i},lectureIdx=${lectureDTO.lectureIdx})}${lectureReplyDTOList.linkParams}|" class="page-link" th:data-num="${i}">[[${i}]]</a>
                                            </li>
                                        </th:block>
                                        <li class="page-item next" th:if="${lectureReplyDTOList.next_page_flag}">
                                            <a th:href="|/mystudy@{/myLectureView(page=${lectureReplyDTOList.page_block_end +1},lectureIdx=${lectureDTO.lectureIdx})}${lectureReplyDTOList.linkParams}|" class="page-link" href="javascript:void(0);"><i class="tf-icon bx bx-chevron-right"></i></a>
                                        </li>
                                    </ul>
                                </nav>

                            </div>
                            <div class="tab-pane fade" id="navs-top-notice" role="tabpanel">
                                <div class="my-items bg-white rounded shadow-sm m-5">
                                    <!-- Start List Title -->
                                    <div class="item-list-title rounded-top p-3" style="background-color: #686BFF;">
                                        <div class="row align-items-center">
                                            <div class="col-lg-4 col-md-5 col-12 d-flex align-items-center">
                                                <p class="p-0 m-0 text-white">제목</p>
                                            </div>
                                            <div class="col-lg-2 col-md-3 col-12">
                                                <p class="p-0 m-0 text-white">작성자</p>
                                            </div>
                                            <div class="col-lg-2 col-md-3 col-12">
                                                <p class="p-0 m-0 text-white">댓글</p>
                                            </div>
                                            <div class="col-lg-2 col-md-2 col-12">
                                                <p class="p-0 m-0 text-white">조회수</p>
                                            </div>
                                            <div class="col-lg-2 col-md-2 col-12 align-right">
                                                <p class="p-0 m-0 text-white">등록일</p>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- End List Title -->
                                    <!-- Start Single List -->
                                    <th:block th:if="${noticeDTO.dtoList.size() > 0}">
                                        <div class="single-item-list border-dark border-1 rounded-bottom item-list-title"  th:each="dto:${noticeDTO.dtoList}">
                                            <div class="cursor-pointer row align-items-center p-3" th:data-idx="${dto.bbsIdx}"
                                                 th:href="|/board/view?category1=${dto.category1}&bbsIdx=${dto.bbsIdx}|" onclick="goToLink(this.attributes.href.nodeValue)">
                                                <div class="col-lg-5 col-md-5 col-12">
                                                    <p class="title p-0 m-0">[[${dto.title}]]</p>
                                                </div>
                                                <div class="col-lg-2 col-md-3 col-12">
                                                    <p class="p-0 m-0"><span class="badge rounded-pill bg-primary">10</span>
                                                    </p>
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-12">
                                                    <p class="p-0 m-0"><span
                                                            class="badge rounded-pill bg-label-primary"><i
                                                            class="lni lni-eye"></i>&nbsp;[[${dto.readCnt}]]</span></p>
                                                </div>
                                                <div class="col-lg-3 col-md-2 col-12 align-right">
                                                    <p class="p-0 m-0">[[${#strings.substring(dto.regDate,0,10)}]]</p>
                                                </div>
                                            </div>
                                        </div>
                                    </th:block>
                                    <th:block th:if="${noticeDTO.dtoList.size() == 0}">
                                        <div class="single-item-list border-dark border-1 rounded-bottom item-list-title">
                                            <div class="cursor-pointer border-bottom">
                                                <div class="row align-items-center p-3">
                                                    <div class="col-lg-4 col-md-5 col-12">
                                                        <p class="title p-0 m-0">작성된 글이 없습니다</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </th:block>
                            </div>
                                <!-- Pagination -->
                                <div class="d-flex align-items-center justify-content-center shadow-sm m-5">
                                        <button class="btn btn-primary col-12">+</button>
<!--                                    <nav aria-label="Page navigation"-->
<!--                                        <ul class="pagination">-->
<!--                                            <li class="page-item prev">-->
<!--                                                <a class="page-link" href="#"><i-->
<!--                                                        class="tf-icon bx bx-chevron-left"></i></a>-->
<!--                                            </li>-->
<!--                                            <li class="page-item active">-->
<!--                                                <a class="page-link" href="#">1</a>-->
<!--                                            </li>-->
<!--                                            <li class="page-item">-->
<!--                                                <a class="page-link" href="#">2</a>-->
<!--                                            </li>-->
<!--                                            <li class="page-item">-->
<!--                                                <a class="page-link" href="#">3</a>-->
<!--                                            </li>-->
<!--                                            <li class="page-item next">-->
<!--                                                <a class="page-link"-->
<!--                                                   href="javascript:void(0);"><i-->
<!--                                                        class="tf-icon bx bx-chevron-right"></i></a>-->
<!--                                            </li>-->
<!--                                        </ul>-->
<!--                                    </nav>-->
                                </div>
                            </div>
                            <!--/ End Pagination -->
                            <div class="tab-pane fade" id="navs-top-qna" role="tabpanel">
                                <div class="my-items bg-white rounded shadow-sm m-5">
                                    <!-- Start List Title -->
                                    <div class="item-list-title rounded-top p-3" style="background-color: #686BFF;">
                                        <div class="row align-items-center">
                                            <div class="col-lg-4 col-md-5 col-12 d-flex align-items-center">
                                                <p class="p-0 m-0 text-white">제목</p>
                                            </div>
                                            <div class="col-lg-2 col-md-3 col-12">
                                                <p class="p-0 m-0 text-white">작성자</p>
                                            </div>
                                            <div class="col-lg-2 col-md-3 col-12">
                                                <p class="p-0 m-0 text-white">댓글</p>
                                            </div>
                                            <div class="col-lg-2 col-md-2 col-12">
                                                <p class="p-0 m-0 text-white">조회수</p>
                                            </div>
                                            <div class="col-lg-2 col-md-2 col-12 align-right">
                                                <p class="p-0 m-0 text-white">등록일</p>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- End List Title -->
                                    <!-- Start Single List -->
                                    <th:block th:if="${qnaDTO.dtoList.size() > 0}">
                                        <div class="single-item-list border-dark border-1 rounded-bottom item-list-title"  th:each="dto:${qnaDTO.dtoList}">
                                            <div class="cursor-pointer row align-items-center p-3" th:data-idx="${dto.bbsIdx}"
                                                 th:href="|/board/view?category1=${dto.category1}&bbsIdx=${dto.bbsIdx}|" onclick="goToLink(this.attributes.href.nodeValue)">
                                                <div class="col-lg-5 col-md-5 col-12">
                                                    <p class="title p-0 m-0">[[${dto.title}]]</p>
                                                </div>
                                                <div class="col-lg-2 col-md-3 col-12">
                                                    <p class="p-0 m-0"><span class="badge rounded-pill bg-primary">10</span>
                                                    </p>
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-12">
                                                    <p class="p-0 m-0"><span
                                                            class="badge rounded-pill bg-label-primary"><i
                                                            class="lni lni-eye"></i>&nbsp;[[${dto.readCnt}]]</span></p>
                                                </div>
                                                <div class="col-lg-3 col-md-2 col-12 align-right">
                                                    <p class="p-0 m-0">[[${#strings.substring(dto.regDate,0,10)}]]</p>
                                                </div>
                                            </div>
                                        </div>
                                    </th:block>
                                    <th:block th:if="${qnaDTO.dtoList.size() == 0}">
                                        <div class="single-item-list border-dark border-1 rounded-bottom item-list-title">
                                            <div class="cursor-pointer border-bottom">
                                                <div class="row align-items-center p-3">
                                                    <div class="col-lg-4 col-md-5 col-12">
                                                        <p class="title p-0 m-0">작성된 글이 없습니다</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </th:block>
                                </div>
                                <!-- Pagination -->
                                <div>
                                    <nav aria-label="Page navigation"
                                         class="d-flex align-items-center justify-content-center">
                                        <ul class="pagination">
                                            <li class="page-item prev">
                                                <a class="page-link" href="#"><i
                                                        class="tf-icon bx bx-chevron-left"></i></a>
                                            </li>
                                            <li class="page-item active">
                                                <a class="page-link" href="#">1</a>
                                            </li>
                                            <li class="page-item">
                                                <a class="page-link" href="#">2</a>
                                            </li>
                                            <li class="page-item">
                                                <a class="page-link" href="#">3</a>
                                            </li>
                                            <li class="page-item next">
                                                <a class="page-link"
                                                   href="javascript:void(0);"><i
                                                        class="tf-icon bx bx-chevron-right"></i></a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="navs-top-data" role="tabpanel">
                                <div class="my-items bg-white rounded shadow-sm m-5">
                                    <!-- Start List Title -->
                                    <div class="item-list-title rounded-top p-3" style="background-color: #686BFF;">
                                        <div class="row align-items-center">
                                            <div class="col-lg-4 col-md-5 col-12 d-flex align-items-center">
                                                <p class="p-0 m-0 text-white">제목</p>
                                            </div>
                                            <div class="col-lg-2 col-md-3 col-12">
                                                <p class="p-0 m-0 text-white">작성자</p>
                                            </div>
                                            <div class="col-lg-2 col-md-3 col-12">
                                                <p class="p-0 m-0 text-white">댓글</p>
                                            </div>
                                            <div class="col-lg-2 col-md-2 col-12">
                                                <p class="p-0 m-0 text-white">조회수</p>
                                            </div>
                                            <div class="col-lg-2 col-md-2 col-12 align-right">
                                                <p class="p-0 m-0 text-white">등록일</p>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- End List Title -->
                                    <!-- Start Single List -->
                                    <th:block th:if="${dataDTO.dtoList.size() > 0}">
                                        <div class="single-item-list border-dark border-1 rounded-bottom item-list-title"  th:each="dto:${dataDTO.dtoList}">
                                            <div class="cursor-pointer row align-items-center p-3" th:data-idx="${dto.bbsIdx}"
                                                 th:href="|/board/view?category1=${dto.category1}&bbsIdx=${dto.bbsIdx}|" onclick="goToLink(this.attributes.href.nodeValue)">
                                                <div class="col-lg-5 col-md-5 col-12">
                                                    <p class="title p-0 m-0">[[${dto.title}]]</p>
                                                </div>
                                                <div class="col-lg-2 col-md-3 col-12">
                                                    <p class="p-0 m-0"><span class="badge rounded-pill bg-primary">10</span>
                                                    </p>
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-12">
                                                    <p class="p-0 m-0"><span
                                                            class="badge rounded-pill bg-label-primary"><i
                                                            class="lni lni-eye"></i>&nbsp;[[${dto.readCnt}]]</span></p>
                                                </div>
                                                <div class="col-lg-3 col-md-2 col-12 align-right">
                                                    <p class="p-0 m-0">[[${#strings.substring(dto.regDate,0,10)}]]</p>
                                                </div>
                                            </div>
                                        </div>
                                    </th:block>
                                    <th:block th:if="${dataDTO.dtoList.size() == 0}">
                                        <div class="single-item-list border-dark border-1 rounded-bottom item-list-title">
                                            <div class="cursor-pointer border-bottom">
                                                <div class="row align-items-center p-3">
                                                    <div class="col-lg-4 col-md-5 col-12">
                                                        <p class="title p-0 m-0">작성된 글이 없습니다</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </th:block>
                                </div>
                                <!-- Pagination -->
                                <div>
                                    <nav aria-label="Page navigation"
                                         class="d-flex align-items-center justify-content-center">
                                        <ul class="pagination">
                                            <li class="page-item prev">
                                                <a class="page-link" href="#"><i
                                                        class="tf-icon bx bx-chevron-left"></i></a>
                                            </li>
                                            <li class="page-item active">
                                                <a class="page-link" href="#">1</a>
                                            </li>
                                            <li class="page-item">
                                                <a class="page-link" href="#">2</a>
                                            </li>
                                            <li class="page-item">
                                                <a class="page-link" href="#">3</a>
                                            </li>
                                            <li class="page-item next">
                                                <a class="page-link"
                                                   href="javascript:void(0);"><i
                                                        class="tf-icon bx bx-chevron-right"></i></a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- / Content -->
                <div class="content-backdrop fade"></div>
              </div>
              <!-- Content wrapper -->
            </div>
        <!-- / Layout page -->
        </div>
      </div>
    </section>
    </th:block>
    <!-- build:js assets/vendor/js/core.js -->
    <th:block layout:fragment="script">
    <script src="/assets/vendor/libs/popper/popper.js"></script>
    <script src="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="/assets/vendor/js/menu.js"></script>
    <script src="/assets/js/main.js"></script>
    <!-- Page JS -->
    <script src="/assets/js/pages-account-settings-account.js"></script>
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
        <script>
            function plusList() {
                    let id = $('#member_id').val();
                    $.ajax({
                        url: '/member/idCheck',
                        type: 'post',
                        data: {member_id: id},
                        success: function (cnt) {
                            if (cnt == 0) {
                                $('.idCk1').css("display", "none");
                                $('.idCk2').css("display", "block");
                            } else {
                                $('.idCk2').css("display", "none");
                                $('.idCk1').css("display", "block");
                            }
                        },
                        error: function () {
                            alert("에러입니다");
                        }
                    });
            }
        </script>
    </th:block>
</body>
</html>
